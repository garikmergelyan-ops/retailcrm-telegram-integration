# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –≤ RetailCRM –¥–ª—è Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üéØ **–ü–æ—á–µ–º—É Webhook –ª—É—á—à–µ Polling:**

**Polling (–æ–ø—Ä–æ—Å –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥):**
- ‚ùå **–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç** —Å—Ç–∞—Ä—ã–µ –∑–∞–∫–∞–∑—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- ‚ùå **–ó–∞–¥–µ—Ä–∂–∫–∞** –¥–æ 30 —Å–µ–∫—É–Ω–¥
- ‚ùå **–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** –Ω–∞ API

**Webhook (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏):**
- ‚úÖ **–ü–æ–ª—É—á–∞–µ–º –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è** –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ **–ü–æ–∫—Ä—ã–≤–∞–µ–º 100% –∑–∞–∫–∞–∑–æ–≤** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–æ–º–µ—Ä–∞
- ‚úÖ **–ù—É–ª–µ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å—Ä–∞–∑—É

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –≤ RetailCRM:**

### **1. –í–æ–π–¥–∏—Ç–µ –≤ RetailCRM:**
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç RetailCRM
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Üí **Webhook**

### **2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Webhook:**
- **URL:** `https://your-render-app.onrender.com/webhook/retailcrm`
- **–°–æ–±—ã—Ç–∏—è:** –í—ã–±–µ—Ä–∏—Ç–µ `order` (–∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞)
- **–ú–µ—Ç–æ–¥:** POST
- **–§–æ—Ä–º–∞—Ç:** JSON

### **3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- **–°—Ç–∞—Ç—É—Å:** `approved` (—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∑–∞–∫–∞–∑ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è approved)
- **–¢–∏–ø:** `status_change` (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞)

### **4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
- –ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ —Å—Ç–∞—Ç—É—Å –Ω–∞ approved
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

## üìã **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ Webhook:**

### **1. –ó–∞–∫–∞–∑ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å:**
```
–ó–∞–∫–∞–∑ 151840A: no-money ‚Üí approved
```

### **2. RetailCRM –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Webhook:**
```json
{
  "event": "order",
  "data": {
    "id": 151840,
    "number": "151840A",
    "status": "approved",
    "firstName": "John",
    "lastName": "Doe",
    "phone": "+1234567890"
  }
}
```

### **3. –ù–∞—à —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:**
```
üîî Webhook received from RetailCRM
üì¶ Order 151840A status changed to: approved
üéâ Order 151840A is now APPROVED!
üÜï New approved order via webhook: 151840A
‚úÖ Webhook notification sent for order 151840A
```

### **4. Telegram –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```
üõí NEW ORDER APPROVED!
üìã Order Number: 151840A
üë§ Operator: John Doe
üí∞ Order Total: 150 GHS
‚è∞ Approval Time: 15.01.2024, 14:30:25 (Ghana Time)
```

## üéâ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Webhook:**

### **‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ:**
- **–õ—é–±–æ–π –∑–∞–∫–∞–∑** —Å –ª—é–±—ã–º –Ω–æ–º–µ—Ä–æ–º
- **–õ—é–±–∞—è –¥–∞—Ç–∞** —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

### **‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- **–ù–µ—Ç polling** - —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞** –Ω–∞ API
- **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞**

### **‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- **–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- **–†–∞–±–æ—Ç–∞–µ—Ç** –¥–∞–∂–µ —Å –æ—á–µ–Ω—å —Å—Ç–∞—Ä—ã–º–∏ –∑–∞–∫–∞–∑–∞–º–∏
- **Real-time** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üîÑ **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

**–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å:**
1. **Webhook** - –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
2. **Polling** - –∫–∞–∫ backup –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
3. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** - –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤

## üì± **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Webhook endpoint:**
```
GET https://your-render-app.onrender.com/test
```

### **2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑:**
- –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑ –≤ RetailCRM
- –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ approved
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø–æ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Webhook:**
- ‚úÖ **–ó–∞–∫–∞–∑ 151840A** –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ **–í—Å–µ approved –∑–∞–∫–∞–∑—ã** –±—É–¥—É—Ç –ø–æ–∫—Ä—ã—Ç—ã
- ‚úÖ **Zero delay** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **100% –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤

**Webhook - —ç—Ç–æ –±—É–¥—É—â–µ–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π!** üöÄ‚ú®
